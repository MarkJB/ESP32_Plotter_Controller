EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr User 19685 13780
encoding utf-8
Sheet 1 1
Title "ESP32 Plotter Controller"
Date "2021-02-20"
Rev "B"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	17050 2835 17050 2085
Wire Wire Line
	17150 5235 17150 4485
Wire Wire Line
	15700 2735 15850 2735
Wire Wire Line
	15750 5135 15900 5135
Wire Wire Line
	17000 5335 17000 4735
Wire Wire Line
	15500 4935 15900 4935
Wire Wire Line
	15400 2335 15850 2335
Wire Wire Line
	15500 4735 15900 4735
Wire Wire Line
	15400 2435 15850 2435
Wire Wire Line
	15900 4835 15500 4835
Wire Wire Line
	15400 2635 15850 2635
Wire Wire Line
	15500 5035 15900 5035
Wire Wire Line
	17400 2235 17400 2885
Connection ~ 17400 2235
Connection ~ 17500 4635
$Comp
L power:GND #NetPort024
U 1 1 502BBCB4
P 17000 5785
F 0 "#NetPort024" H 17000 5785 50  0001 C CNN
F 1 "GND" H 17000 5785 50  0001 C CNN
F 2 "" H 17000 5785 50  0001 C CNN
F 3 "" H 17000 5785 50  0001 C CNN
	1    17000 5785
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort025
U 1 1 FDC02701
P 17500 5785
F 0 "#NetPort025" H 17500 5785 50  0001 C CNN
F 1 "GND" H 17500 5785 50  0001 C CNN
F 2 "" H 17500 5785 50  0001 C CNN
F 3 "" H 17500 5785 50  0001 C CNN
	1    17500 5785
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort026
U 1 1 CFD3C7B2
P 15750 5785
F 0 "#NetPort026" H 15750 5785 50  0001 C CNN
F 1 "GND" H 15750 5785 50  0001 C CNN
F 2 "" H 15750 5785 50  0001 C CNN
F 3 "" H 15750 5785 50  0001 C CNN
	1    15750 5785
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort027
U 1 1 B407F0BF
P 15700 3285
F 0 "#NetPort027" H 15700 3285 50  0001 C CNN
F 1 "GND" H 15700 3285 50  0001 C CNN
F 2 "" H 15700 3285 50  0001 C CNN
F 3 "" H 15700 3285 50  0001 C CNN
	1    15700 3285
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort037
U 1 1 8B957BD9
P 16900 3310
F 0 "#NetPort037" H 16900 3310 50  0001 C CNN
F 1 "GND" H 16900 3310 50  0001 C CNN
F 2 "" H 16900 3310 50  0001 C CNN
F 3 "" H 16900 3310 50  0001 C CNN
	1    16900 3310
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort042
U 1 1 67C1EA9C
P 17400 3310
F 0 "#NetPort042" H 17400 3310 50  0001 C CNN
F 1 "GND" H 17400 3310 50  0001 C CNN
F 2 "" H 17400 3310 50  0001 C CNN
F 3 "" H 17400 3310 50  0001 C CNN
	1    17400 3310
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort053
U 1 1 A807EF88
P 10775 2485
F 0 "#NetPort053" H 10775 2485 50  0001 C CNN
F 1 "GND" H 10775 2485 50  0001 C CNN
F 2 "" H 10775 2485 50  0001 C CNN
F 3 "" H 10775 2485 50  0001 C CNN
	1    10775 2485
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort056
U 1 1 31B08D45
P 11700 2485
F 0 "#NetPort056" H 11700 2485 50  0001 C CNN
F 1 "GND" H 11700 2485 50  0001 C CNN
F 2 "" H 11700 2485 50  0001 C CNN
F 3 "" H 11700 2485 50  0001 C CNN
	1    11700 2485
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort057
U 1 1 0FA538F8
P 11950 2485
F 0 "#NetPort057" H 11950 2485 50  0001 C CNN
F 1 "GND" H 11950 2485 50  0001 C CNN
F 2 "" H 11950 2485 50  0001 C CNN
F 3 "" H 11950 2485 50  0001 C CNN
	1    11950 2485
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort062
U 1 1 125B47F1
P 16800 7210
F 0 "#NetPort062" H 16800 7210 50  0001 C CNN
F 1 "GND" H 16800 7210 50  0001 C CNN
F 2 "" H 16800 7210 50  0001 C CNN
F 3 "" H 16800 7210 50  0001 C CNN
	1    16800 7210
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort071
U 1 1 801604DB
P 1800 7110
F 0 "#NetPort071" H 1800 7110 50  0001 C CNN
F 1 "GND" H 1800 7110 50  0001 C CNN
F 2 "" H 1800 7110 50  0001 C CNN
F 3 "" H 1800 7110 50  0001 C CNN
	1    1800 7110
	1    0    0    -1  
$EndComp
$Comp
L custom:TMC2130 U3
U 1 1 94FABF20
P 15900 4635
F 0 "U3" H 16335 4060 50  0000 C CNN
F 1 "TMC2130" H 16240 3825 50  0000 C CNN
F 2 "custom:StepstickTMCv2" H 15900 4635 50  0001 C CNN
F 3 "" H 15900 4635 50  0001 C CNN
	1    15900 4635
	1    0    0    -1  
$EndComp
$Comp
L custom:TMC2130 U2
U 1 1 4E0AB7A9
P 15850 2235
F 0 "U2" H 16280 1695 50  0000 C CNN
F 1 "TMC2130" H 16195 1405 50  0000 C CNN
F 2 "custom:StepstickTMCv2" H 15850 2235 50  0001 C CNN
F 3 "" H 15850 2235 50  0001 C CNN
	1    15850 2235
	1    0    0    -1  
$EndComp
Text Notes 9025 7160 0    118  ~ 0
Micro SD Card Socket
Text Notes 8800 1060 0    118  ~ 0
Limit Switches\n
Wire Notes Line
	13800 735  18950 735 
Wire Notes Line
	18950 735  18950 8085
Wire Notes Line
	18950 8085 13800 8085
Wire Notes Line
	13800 8085 13800 735 
Text Notes 15350 7910 0    118  ~ 0
Stepper motor Drivers
Wire Notes Line
	750  760  8450 760 
Wire Notes Line
	8450 760  8450 5310
Wire Notes Line
	8450 5310 750  5310
Wire Notes Line
	750  5310 750  760 
Text Notes 1025 1210 0    118  ~ 0
ESP32 Module
Wire Notes Line
	750  5560 8450 5560
Wire Notes Line
	8450 5560 8450 9460
Wire Notes Line
	8450 9460 750  9460
Wire Notes Line
	750  9460 750  5560
Text Notes 1050 6010 0    118  ~ 0
Power
$Comp
L custom:XL1509 U4
U 1 1 6018C860
P 5000 6610
F 0 "U4" H 4500 6660 50  0000 L CNN
F 1 "XL1509" H 5150 6660 50  0000 L CNN
F 2 "Package_SO:SO-8_3.9x4.9mm_P1.27mm" H 5000 6610 50  0001 C CNN
F 3 "" H 5000 6610 50  0001 C CNN
	1    5000 6610
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C1
U 1 1 6018DADF
P 3550 7060
F 0 "C1" H 3668 7106 50  0000 L CNN
F 1 "470uF 35v" H 3300 6960 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_10x10" H 3588 6910 50  0001 C CNN
F 3 "~" H 3550 7060 50  0001 C CNN
	1    3550 7060
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C3
U 1 1 6018E979
P 6700 7160
F 0 "C3" H 6818 7206 50  0000 L CNN
F 1 "180uF 35v" H 6818 7115 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_6.3x7.7" H 6738 7010 50  0001 C CNN
F 3 "~" H 6700 7160 50  0001 C CNN
	1    6700 7160
	1    0    0    -1  
$EndComp
$Comp
L Device:C C2
U 1 1 6018F646
P 3950 7060
F 0 "C2" H 4065 7106 50  0000 L CNN
F 1 "1uF" H 4065 7015 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 3988 6910 50  0001 C CNN
F 3 "~" H 3950 7060 50  0001 C CNN
	1    3950 7060
	1    0    0    -1  
$EndComp
$Comp
L Device:L L1
U 1 1 601913BE
P 6350 6810
F 0 "L1" V 6540 6810 50  0000 C CNN
F 1 "68uH" V 6449 6810 50  0000 C CNN
F 2 "Inductor_SMD:L_12x12mm_H6mm" H 6350 6810 50  0001 C CNN
F 3 "~" H 6350 6810 50  0001 C CNN
	1    6350 6810
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5700 6810 6000 6810
Wire Wire Line
	6500 6810 6700 6810
Wire Wire Line
	6700 6810 6700 7010
Wire Wire Line
	4250 6810 3950 6810
Wire Wire Line
	3550 6810 3550 6910
Wire Wire Line
	3950 6910 3950 6810
Connection ~ 3950 6810
Wire Wire Line
	3950 6810 3550 6810
Wire Wire Line
	3550 7210 3550 7560
Wire Wire Line
	3550 7560 3950 7560
Wire Wire Line
	5000 7560 5000 7410
Wire Wire Line
	4900 7410 4900 7560
Connection ~ 4900 7560
Wire Wire Line
	4900 7560 5000 7560
Wire Wire Line
	4800 7410 4800 7560
Connection ~ 4800 7560
Wire Wire Line
	4800 7560 4900 7560
Wire Wire Line
	4700 7410 4700 7560
Connection ~ 4700 7560
Wire Wire Line
	4700 7560 4800 7560
Wire Wire Line
	3950 7210 3950 7560
Connection ~ 3950 7560
Wire Wire Line
	3950 7560 4700 7560
Wire Wire Line
	5000 7560 5250 7560
Wire Wire Line
	6700 7560 6700 7310
Connection ~ 5000 7560
Wire Wire Line
	6000 7310 6000 7560
Connection ~ 6000 7560
Wire Wire Line
	6000 7560 6700 7560
Wire Wire Line
	6000 7010 6000 6810
Connection ~ 6000 6810
Wire Wire Line
	6000 6810 6200 6810
Wire Wire Line
	6700 6810 6700 6310
Wire Wire Line
	6700 6310 5000 6310
Wire Wire Line
	5000 6310 5000 6510
Connection ~ 6700 6810
Wire Wire Line
	5250 7410 5250 7560
Connection ~ 5250 7560
Wire Wire Line
	5250 7560 6000 7560
Connection ~ 3550 6810
$Comp
L power:GND #NetPort02
U 1 1 602A741E
P 4900 8035
F 0 "#NetPort02" H 4900 8035 50  0001 C CNN
F 1 "GND" H 4900 8035 50  0001 C CNN
F 2 "" H 4900 8035 50  0001 C CNN
F 3 "" H 4900 8035 50  0001 C CNN
	1    4900 8035
	1    0    0    -1  
$EndComp
Wire Wire Line
	6700 6810 7250 6810
Wire Wire Line
	4900 8035 4900 7560
Wire Wire Line
	15750 5135 15750 5785
Wire Wire Line
	16800 7035 16800 7210
Wire Wire Line
	17400 1735 17400 2235
Wire Wire Line
	17500 4160 17500 4635
$Comp
L power:+3.3V #PWR05
U 1 1 604CE2BA
P 10625 1285
F 0 "#PWR05" H 10625 1135 50  0001 C CNN
F 1 "+3.3V" H 10640 1458 50  0000 C CNN
F 2 "" H 10625 1285 50  0001 C CNN
F 3 "" H 10625 1285 50  0001 C CNN
	1    10625 1285
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR010
U 1 1 6052B8BE
P 17050 6360
F 0 "#PWR010" H 17050 6210 50  0001 C CNN
F 1 "+5V" H 17065 6533 50  0000 C CNN
F 2 "" H 17050 6360 50  0001 C CNN
F 3 "" H 17050 6360 50  0001 C CNN
	1    17050 6360
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x03_Male J11
U 1 1 6053A56B
P 16800 6335
F 0 "J11" V 16875 6110 50  0000 L CNN
F 1 "Vselect" V 16725 6210 50  0000 L CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical" H 16800 6335 50  0001 C CNN
F 3 "~" H 16800 6335 50  0001 C CNN
	1    16800 6335
	0    1    1    0   
$EndComp
Wire Wire Line
	16800 6535 16800 6935
Wire Wire Line
	17050 6360 17050 6535
Wire Wire Line
	17050 6535 16900 6535
Wire Wire Line
	16700 6535 16500 6535
Text Label 3550 6160 3    50   ~ 0
Vin
Wire Wire Line
	3550 6160 3550 6810
Text Label 1800 6410 3    50   ~ 0
Vin
$Comp
L power:+5V #PWR04
U 1 1 6057DF06
P 7250 6435
F 0 "#PWR04" H 7250 6285 50  0001 C CNN
F 1 "+5V" H 7265 6608 50  0000 C CNN
F 2 "" H 7250 6435 50  0001 C CNN
F 3 "" H 7250 6435 50  0001 C CNN
	1    7250 6435
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 6435 7250 6810
Text Label 17400 1735 3    50   ~ 0
Vin
Text Label 17500 4160 3    50   ~ 0
Vin
$Comp
L power:+3.3V #PWR09
U 1 1 6058C428
P 17050 2085
F 0 "#PWR09" H 17050 1935 50  0001 C CNN
F 1 "+3.3V" H 17065 2258 50  0000 C CNN
F 2 "" H 17050 2085 50  0001 C CNN
F 3 "" H 17050 2085 50  0001 C CNN
	1    17050 2085
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR011
U 1 1 6058D9C9
P 17150 4485
F 0 "#PWR011" H 17150 4335 50  0001 C CNN
F 1 "+3.3V" H 17165 4658 50  0000 C CNN
F 2 "" H 17150 4485 50  0001 C CNN
F 3 "" H 17150 4485 50  0001 C CNN
	1    17150 4485
	1    0    0    -1  
$EndComp
$Comp
L Device:D_Schottky D2
U 1 1 605DECB8
P 6000 7160
F 0 "D2" V 5954 7240 50  0000 L CNN
F 1 "B5819W" V 6045 7240 50  0000 L CNN
F 2 "Diode_SMD:D_SOD-123" H 6000 7160 50  0001 C CNN
F 3 "https://datasheet.lcsc.com/szlcsc/Changjiang-Electronics-Tech-CJ-B5819W_C8598.pdf" H 6000 7160 50  0001 C CNN
	1    6000 7160
	0    1    1    0   
$EndComp
$Comp
L Device:C C4
U 1 1 605DF9C1
P 11700 2035
F 0 "C4" H 11725 2135 50  0000 L CNN
F 1 "100nF" H 11725 1935 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 11738 1885 50  0001 C CNN
F 3 "~" H 11700 2035 50  0001 C CNN
	1    11700 2035
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 605DFCFE
P 11950 2035
F 0 "C5" H 11975 2135 50  0000 L CNN
F 1 "100nF" H 11975 1935 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 11988 1885 50  0001 C CNN
F 3 "~" H 11950 2035 50  0001 C CNN
	1    11950 2035
	1    0    0    -1  
$EndComp
Text Label 15500 4635 0    50   ~ 0
StepEn
Text Label 15400 2235 0    50   ~ 0
StepEn
Text Label 12300 1735 2    50   ~ 0
Y_Limit
$Comp
L Device:CP C6
U 1 1 60688A57
P 17400 3035
F 0 "C6" H 17518 3081 50  0000 L CNN
F 1 "47uF 35V" H 17518 2990 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_6.3x5.7" H 17438 2885 50  0001 C CNN
F 3 "~" H 17400 3035 50  0001 C CNN
	1    17400 3035
	1    0    0    -1  
$EndComp
Wire Wire Line
	17400 3185 17400 3310
Wire Wire Line
	16900 2335 16900 2935
Wire Wire Line
	15700 3285 15700 2735
Text Label 15400 2935 0    50   ~ 0
X_Dir
Text Label 15400 2835 0    50   ~ 0
X_Step
Wire Wire Line
	15400 2835 15850 2835
Wire Wire Line
	15400 2935 15850 2935
Text Label 15400 2335 0    50   ~ 0
MOSI
Text Label 15400 2435 0    50   ~ 0
SCK
Text Label 15400 2535 0    50   ~ 0
CS_X
Text Label 15400 2635 0    50   ~ 0
MISO
Text Label 16200 1635 2    50   ~ 0
X_Limit
Wire Wire Line
	15500 5235 15900 5235
Text Label 15500 5335 0    50   ~ 0
Y_Dir
Text Label 15500 5235 0    50   ~ 0
Y_Step
Text Label 15500 5035 0    50   ~ 0
MISO
Text Label 15500 4935 0    50   ~ 0
CS_Y
Text Label 15500 4835 0    50   ~ 0
SCK
Text Label 15500 4735 0    50   ~ 0
MOSI
Wire Wire Line
	15500 4635 15900 4635
$Comp
L Device:CP C7
U 1 1 6071E7CB
P 17500 5510
F 0 "C7" H 17618 5556 50  0000 L CNN
F 1 "47uF 35V" H 17618 5465 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_6.3x5.7" H 17538 5360 50  0001 C CNN
F 3 "~" H 17500 5510 50  0001 C CNN
	1    17500 5510
	1    0    0    -1  
$EndComp
Wire Wire Line
	17500 4635 17500 5360
Wire Wire Line
	17500 5785 17500 5660
Wire Wire Line
	17000 5785 17000 5335
Connection ~ 17000 5335
Text Label 16250 4110 2    50   ~ 0
Y_Limit
Text Label 17200 6835 2    50   ~ 0
PEN_LIFT
$Comp
L Connector:Barrel_Jack_Switch J2
U 1 1 607B4B93
P 1350 6785
F 0 "J2" H 1407 7102 50  0000 C CNN
F 1 "Power" H 1407 7011 50  0000 C CNN
F 2 "Connector_BarrelJack:BarrelJack_Horizontal" H 1400 6745 50  0001 C CNN
F 3 "~" H 1400 6745 50  0001 C CNN
	1    1350 6785
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 6885 1800 6885
Wire Wire Line
	1800 6885 1800 7110
Wire Wire Line
	1650 6685 1800 6685
Wire Wire Line
	1800 6685 1800 6410
$Comp
L Device:R R2
U 1 1 6083E053
P 11100 2200
F 0 "R2" V 10893 2200 50  0000 C CNN
F 1 "100" V 10984 2200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 11030 2200 50  0001 C CNN
F 3 "~" H 11100 2200 50  0001 C CNN
	1    11100 2200
	0    1    1    0   
$EndComp
$Comp
L Device:R R1
U 1 1 6083EB0D
P 11100 1600
F 0 "R1" V 10893 1600 50  0000 C CNN
F 1 "100" V 10984 1600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 11030 1600 50  0001 C CNN
F 3 "~" H 11100 1600 50  0001 C CNN
	1    11100 1600
	0    1    1    0   
$EndComp
Wire Wire Line
	11950 2185 11950 2485
Wire Wire Line
	11700 2485 11700 2185
Wire Wire Line
	11700 1885 11700 1735
Connection ~ 11700 1735
Wire Wire Line
	11700 1735 12300 1735
$Comp
L Connector:Conn_01x02_Male J9
U 1 1 608AC463
P 15525 4110
F 0 "J9" H 15633 4291 50  0000 C CNN
F 1 "Y Limit" H 15633 4200 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x02_P2.54mm_Vertical" H 15525 4110 50  0001 C CNN
F 3 "~" H 15525 4110 50  0001 C CNN
	1    15525 4110
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x02_Male J7
U 1 1 608ACE0D
P 15475 1635
F 0 "J7" H 15583 1816 50  0000 C CNN
F 1 "X Limit" H 15583 1725 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x02_P2.54mm_Vertical" H 15475 1635 50  0001 C CNN
F 3 "~" H 15475 1635 50  0001 C CNN
	1    15475 1635
	1    0    0    -1  
$EndComp
Wire Wire Line
	15675 1635 16200 1635
Wire Wire Line
	15675 1735 16200 1735
Wire Wire Line
	15725 4110 16250 4110
Wire Wire Line
	15725 4210 16250 4210
$Comp
L Connector:Conn_01x03_Male J10
U 1 1 608DEBB9
P 16125 6935
F 0 "J10" H 16233 7216 50  0000 C CNN
F 1 "Pen Lift" H 16233 7125 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S3B-PH-K_1x03_P2.00mm_Horizontal" H 16125 6935 50  0001 C CNN
F 3 "~" H 16125 6935 50  0001 C CNN
F 4 "C10400 (JST PH TH RA) C10400 (JST PH TH RA) C395359 (JST PH SMT RA)" H 16125 6935 50  0001 C CNN "LCSC"
	1    16125 6935
	1    0    0    -1  
$EndComp
Wire Wire Line
	16325 6835 17200 6835
Wire Wire Line
	16325 6935 16800 6935
Wire Wire Line
	16325 7035 16800 7035
$Comp
L Connector:Conn_01x04_Male J12
U 1 1 609055FD
P 18000 2635
F 0 "J12" H 18420 2530 50  0000 R CNN
F 1 "X Motor" H 18540 2685 50  0000 R CNN
F 2 "Connector_JST:JST_PH_S4B-PH-K_1x04_P2.00mm_Horizontal" H 18000 2635 50  0001 C CNN
F 3 "~" H 18000 2635 50  0001 C CNN
F 4 "C10401 JST PH TH RA" H 18000 2635 50  0001 C CNN "LCSC"
	1    18000 2635
	-1   0    0    1   
$EndComp
$Comp
L Connector:Conn_01x04_Male J13
U 1 1 609064BE
P 18000 5035
F 0 "J13" H 18375 4895 50  0000 R CNN
F 1 "Y Motor" H 18555 5080 50  0000 R CNN
F 2 "Connector_JST:JST_PH_S4B-PH-K_1x04_P2.00mm_Horizontal" H 18000 5035 50  0001 C CNN
F 3 "~" H 18000 5035 50  0001 C CNN
F 4 "C10401 JST PH TH RA" H 18000 5035 50  0001 C CNN "LCSC"
	1    18000 5035
	-1   0    0    1   
$EndComp
Text Notes 15000 12575 0    79   ~ 0
ESP32 Plotter Controller\nDesign by Mark Benson github.com/markjb/ESP32_Plotter_Controller\nBased on Bart Drings ESP32 Pen Plotter Controller\nhttps://github.com/bdring/Grbl_ESP32_TMC2130_Plotter_Controller
Wire Notes Line
	8675 760  13575 760 
Wire Notes Line
	8650 760  8650 2760
Wire Notes Line
	8650 2760 13575 2760
Wire Notes Line
	13575 2760 13575 760 
$Comp
L Connector:Conn_01x08_Male J6
U 1 1 60A36016
P 9050 4285
F 0 "J6" H 9158 4766 50  0000 C CNN
F 1 "Aux Port (SPI)" H 9158 4675 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S8B-PH-K_1x08_P2.00mm_Horizontal" H 9050 4285 50  0001 C CNN
F 3 "~" H 9050 4285 50  0001 C CNN
F 4 "C14531 (JST PH TH RA) C519174 (JST PH SMT RA)" H 9050 4285 50  0001 C CNN "LCSC"
	1    9050 4285
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 3985 10425 3985
Wire Wire Line
	9250 4385 10425 4385
Wire Wire Line
	9250 4485 10425 4485
Wire Wire Line
	9250 4585 10425 4585
Wire Wire Line
	9250 4685 10425 4685
Text Label 10425 3985 2    50   ~ 0
Vin
$Comp
L power:+3.3V #PWR06
U 1 1 60A9AF1B
P 10675 3810
F 0 "#PWR06" H 10675 3660 50  0001 C CNN
F 1 "+3.3V" H 10690 3983 50  0000 C CNN
F 2 "" H 10675 3810 50  0001 C CNN
F 3 "" H 10675 3810 50  0001 C CNN
	1    10675 3810
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR07
U 1 1 60A9B334
P 10900 3810
F 0 "#PWR07" H 10900 3660 50  0001 C CNN
F 1 "+5V" H 10915 3983 50  0000 C CNN
F 2 "" H 10900 3810 50  0001 C CNN
F 3 "" H 10900 3810 50  0001 C CNN
	1    10900 3810
	1    0    0    -1  
$EndComp
Wire Wire Line
	10675 4085 10675 3810
Wire Wire Line
	9250 4085 10675 4085
Wire Wire Line
	10900 4185 10900 3810
Wire Wire Line
	9250 4185 10900 4185
$Comp
L power:GND #NetPort03
U 1 1 60AB5B1C
P 10675 4885
F 0 "#NetPort03" H 10675 4885 50  0001 C CNN
F 1 "GND" H 10675 4885 50  0001 C CNN
F 2 "" H 10675 4885 50  0001 C CNN
F 3 "" H 10675 4885 50  0001 C CNN
	1    10675 4885
	1    0    0    -1  
$EndComp
Wire Wire Line
	10675 4285 10675 4885
Wire Wire Line
	9250 4285 10675 4285
Text Label 10425 4385 2    50   ~ 0
MOSI
Text Label 10425 4485 2    50   ~ 0
MISO
Text Label 10425 4585 2    50   ~ 0
SCK
Text Label 10425 4685 2    50   ~ 0
CS_AUX
Wire Notes Line
	13575 5310 13575 2910
Wire Notes Line
	13575 2910 8650 2910
Text Notes 8850 3380 0    118  ~ 0
Auxiliary Ports \n(JTAG, SPI, I2C, NeoPixel, Pen (Spindle) Direction)
$Comp
L Connector:Conn_01x03_Male J14
U 1 1 60B0CF1B
P 11570 3905
F 0 "J14" H 11678 4186 50  0000 C CNN
F 1 "Neo Pixel LEDs" H 11678 4095 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S3B-PH-K_1x03_P2.00mm_Horizontal" H 11570 3905 50  0001 C CNN
F 3 "~" H 11570 3905 50  0001 C CNN
F 4 "C10400 (JST PH TH RA) C395359 (JST PH SMT RA)" H 11570 3905 50  0001 C CNN "LCSC"
	1    11570 3905
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR012
U 1 1 60B0DA44
P 12070 3730
F 0 "#PWR012" H 12070 3580 50  0001 C CNN
F 1 "+5V" H 12085 3903 50  0000 C CNN
F 2 "" H 12070 3730 50  0001 C CNN
F 3 "" H 12070 3730 50  0001 C CNN
	1    12070 3730
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort04
U 1 1 60B0DF42
P 12070 4085
F 0 "#NetPort04" H 12070 4085 50  0001 C CNN
F 1 "GND" H 12070 4085 50  0001 C CNN
F 2 "" H 12070 4085 50  0001 C CNN
F 3 "" H 12070 4085 50  0001 C CNN
	1    12070 4085
	1    0    0    -1  
$EndComp
Wire Notes Line
	13575 6785 13575 9460
Wire Notes Line
	8650 6560 13575 6560
Wire Notes Line
	13575 6560 13575 5335
Wire Notes Line
	8650 2910 8650 6560
Wire Notes Line
	8650 6785 8650 9460
Wire Notes Line
	8650 9460 13575 9460
Wire Notes Line
	8650 6785 13575 6785
$Comp
L Connector:Conn_01x02_Male J15
U 1 1 60BACFF9
P 11570 4360
F 0 "J15" H 11678 4541 50  0000 C CNN
F 1 "Pen Direction" H 11678 4450 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S2B-PH-K_1x02_P2.00mm_Horizontal" H 11570 4360 50  0001 C CNN
F 3 "~" H 11570 4360 50  0001 C CNN
F 4 "C16965 (JST PH TH RA), C47647 (JST PH SMT RA)" H 11570 4360 50  0001 C CNN "LCSC"
	1    11570 4360
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort05
U 1 1 60BAE2D6
P 11850 6200
F 0 "#NetPort05" H 11850 6200 50  0001 C CNN
F 1 "GND" H 11850 6200 50  0001 C CNN
F 2 "" H 11850 6200 50  0001 C CNN
F 3 "" H 11850 6200 50  0001 C CNN
	1    11850 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	11770 4460 12070 4460
Wire Wire Line
	11770 4360 12820 4360
$Comp
L Connector:Conn_01x06_Male J16
U 1 1 60211293
P 9100 5760
F 0 "J16" H 9208 6141 50  0000 C CNN
F 1 "Aux Port (I2C)" H 9208 6050 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S6B-PH-K_1x06_P2.00mm_Horizontal" H 9100 5760 50  0001 C CNN
F 3 "~" H 9100 5760 50  0001 C CNN
F 4 "C5662 (JST PH TH RA) C395362 (JST PH SMT RA)" H 9100 5760 50  0001 C CNN "LCSC"
	1    9100 5760
	1    0    0    -1  
$EndComp
Wire Wire Line
	9300 5560 10425 5560
Wire Wire Line
	9300 5960 10425 5960
Wire Wire Line
	9300 6060 10425 6060
Text Label 10425 5560 2    50   ~ 0
Vin
$Comp
L power:+3.3V #PWR013
U 1 1 60276DC0
P 10675 5360
F 0 "#PWR013" H 10675 5210 50  0001 C CNN
F 1 "+3.3V" H 10690 5533 50  0000 C CNN
F 2 "" H 10675 5360 50  0001 C CNN
F 3 "" H 10675 5360 50  0001 C CNN
	1    10675 5360
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR014
U 1 1 602774B7
P 10900 5360
F 0 "#PWR014" H 10900 5210 50  0001 C CNN
F 1 "+5V" H 10915 5533 50  0000 C CNN
F 2 "" H 10900 5360 50  0001 C CNN
F 3 "" H 10900 5360 50  0001 C CNN
	1    10900 5360
	1    0    0    -1  
$EndComp
Wire Wire Line
	10675 5660 10675 5360
Wire Wire Line
	9300 5660 10675 5660
Wire Wire Line
	10900 5760 10900 5360
Wire Wire Line
	9300 5760 10900 5760
Wire Wire Line
	9300 5860 10675 5860
Text Label 10425 5960 2    50   ~ 0
SCL
Text Label 10425 6060 2    50   ~ 0
SDA
Wire Wire Line
	11770 4005 12070 4005
Wire Wire Line
	10650 8510 9875 8510
Wire Wire Line
	10650 8310 9875 8310
Wire Wire Line
	10650 8110 9875 8110
Wire Wire Line
	10650 8010 9875 8010
Text Label 9875 8510 0    50   ~ 0
MISO
Text Label 9875 8110 0    50   ~ 0
MOSI
Text Label 9875 8310 0    50   ~ 0
SCK
Text Label 9875 8010 0    50   ~ 0
CS_SD
$Comp
L power:+3.3V #PWR08
U 1 1 6025CC95
P 9625 7785
F 0 "#PWR08" H 9625 7635 50  0001 C CNN
F 1 "+3.3V" H 9640 7958 50  0000 C CNN
F 2 "" H 9625 7785 50  0001 C CNN
F 3 "" H 9625 7785 50  0001 C CNN
	1    9625 7785
	1    0    0    -1  
$EndComp
Wire Wire Line
	9625 8210 9625 7785
Wire Wire Line
	9625 8210 10650 8210
$Comp
L power:GND #NetPort08
U 1 1 602713A8
P 9625 8785
F 0 "#NetPort08" H 9625 8785 50  0001 C CNN
F 1 "GND" H 9625 8785 50  0001 C CNN
F 2 "" H 9625 8785 50  0001 C CNN
F 3 "" H 9625 8785 50  0001 C CNN
	1    9625 8785
	1    0    0    -1  
$EndComp
Wire Wire Line
	9625 8410 9625 8785
Wire Wire Line
	9625 8410 10650 8410
Wire Wire Line
	16750 4635 17500 4635
Wire Wire Line
	16750 4735 17000 4735
Wire Wire Line
	16750 4835 17800 4835
Wire Wire Line
	16750 4935 17800 4935
Wire Wire Line
	16750 5035 17800 5035
Wire Wire Line
	16750 5135 17800 5135
Wire Wire Line
	16750 5235 17150 5235
Wire Wire Line
	16750 5335 17000 5335
Wire Wire Line
	16700 2235 17400 2235
Wire Wire Line
	16700 2335 16900 2335
Wire Wire Line
	16700 2435 17800 2435
Wire Wire Line
	16700 2535 17800 2535
Wire Wire Line
	16700 2635 17800 2635
Wire Wire Line
	16700 2735 17800 2735
Wire Wire Line
	16700 2835 17050 2835
Wire Wire Line
	16700 2935 16900 2935
Connection ~ 16900 2935
Wire Wire Line
	16900 2935 16900 3310
Wire Wire Line
	11770 3905 12820 3905
Wire Wire Line
	11770 3805 12070 3805
Wire Wire Line
	16500 6240 16500 6535
Text Label 16500 6240 3    50   ~ 0
Vin
Wire Wire Line
	15900 5335 15500 5335
Wire Wire Line
	15850 2235 15400 2235
Wire Wire Line
	15850 2535 15400 2535
Wire Wire Line
	16200 2060 16200 1735
Wire Wire Line
	16250 4460 16250 4210
Text Label 2600 7785 3    50   ~ 0
Vin
Wire Wire Line
	2600 8085 2600 7785
Wire Wire Line
	2400 8085 2600 8085
Wire Wire Line
	2600 8185 2600 8460
Wire Wire Line
	2400 8185 2600 8185
$Comp
L power:GND #NetPort01
U 1 1 609E0C97
P 2600 8460
F 0 "#NetPort01" H 2600 8460 50  0001 C CNN
F 1 "GND" H 2600 8460 50  0001 C CNN
F 2 "" H 2600 8460 50  0001 C CNN
F 3 "" H 2600 8460 50  0001 C CNN
	1    2600 8460
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x02_Male J4
U 1 1 609E0415
P 2200 8085
F 0 "J4" H 2308 8266 50  0000 C CNN
F 1 "Vin Aux" H 2308 8175 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S2B-PH-K_1x02_P2.00mm_Horizontal" H 2200 8085 50  0001 C CNN
F 3 "~" H 2200 8085 50  0001 C CNN
F 4 "C16965 (JST PH TH RA), C47647 (JST PH SMT RA)" H 2200 8085 50  0001 C CNN "LCSC"
	1    2200 8085
	1    0    0    -1  
$EndComp
Wire Wire Line
	1825 8085 1825 7860
Wire Wire Line
	1650 8085 1825 8085
Wire Wire Line
	1825 8185 1825 8460
Wire Wire Line
	1650 8185 1825 8185
$Comp
L Connector:Conn_01x02_Male J3
U 1 1 607DA111
P 1450 8085
F 0 "J3" H 1558 8266 50  0000 C CNN
F 1 "5V Aux" H 1425 8160 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S2B-PH-K_1x02_P2.00mm_Horizontal" H 1450 8085 50  0001 C CNN
F 3 "~" H 1450 8085 50  0001 C CNN
F 4 "C16965 (JST PH TH RA), C47647 (JST PH SMT RA)" H 1450 8085 50  0001 C CNN "LCSC"
	1    1450 8085
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR01
U 1 1 60510BD6
P 1825 7860
F 0 "#PWR01" H 1825 7710 50  0001 C CNN
F 1 "+5V" H 1840 8033 50  0000 C CNN
F 2 "" H 1825 7860 50  0001 C CNN
F 3 "" H 1825 7860 50  0001 C CNN
	1    1825 7860
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort029
U 1 1 E8716E2F
P 1825 8460
F 0 "#NetPort029" H 1825 8460 50  0001 C CNN
F 1 "GND" H 1825 8460 50  0001 C CNN
F 2 "" H 1825 8460 50  0001 C CNN
F 3 "" H 1825 8460 50  0001 C CNN
	1    1825 8460
	1    0    0    -1  
$EndComp
Text Label 13225 5400 2    50   ~ 0
NEO_PIXELS_JTAG_TCK
Text Label 13225 5600 2    50   ~ 0
PEN_DIR_JTAG_TDO
Text Label 13225 5700 2    50   ~ 0
JTAG_TDI
Text Label 13225 5500 2    50   ~ 0
JTAG_TMS
$Comp
L Connector:Conn_ARM_JTAG_SWD_10 J1
U 1 1 602C2FD4
P 11850 5500
F 0 "J1" H 12675 5100 50  0000 R CNN
F 1 "ARM JTAG 10pin" H 12975 4975 50  0000 R CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_2x05_P2.54mm_Vertical" H 11850 5500 50  0001 C CNN
F 3 "http://infocenter.arm.com/help/topic/com.arm.doc.ddi0314h/DDI0314H_coresight_components_trm.pdf" V 11500 4250 50  0001 C CNN
	1    11850 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	12070 3805 12070 3730
Wire Wire Line
	12070 4005 12070 4085
Wire Wire Line
	12070 4595 12070 4460
Wire Wire Line
	12350 5400 13225 5400
Wire Wire Line
	12350 5500 13225 5500
Wire Wire Line
	12350 5600 13225 5600
Wire Wire Line
	12350 5700 13225 5700
Wire Wire Line
	11850 6200 11850 6100
$Comp
L power:GND #NetPort0101
U 1 1 60211BCD
P 10675 6275
F 0 "#NetPort0101" H 10675 6275 50  0001 C CNN
F 1 "GND" H 10675 6275 50  0001 C CNN
F 2 "" H 10675 6275 50  0001 C CNN
F 3 "" H 10675 6275 50  0001 C CNN
	1    10675 6275
	1    0    0    -1  
$EndComp
Wire Wire Line
	10675 5860 10675 6275
Text Label 12820 3905 2    50   ~ 0
NEO_PIXELS_JTAG_TCK
Text Label 12820 4360 2    50   ~ 0
PEN_DIR_JTAG_TDO
$Comp
L power:GND #NetPort0102
U 1 1 6022E77B
P 12070 4595
F 0 "#NetPort0102" H 12070 4595 50  0001 C CNN
F 1 "GND" H 12070 4595 50  0001 C CNN
F 2 "" H 12070 4595 50  0001 C CNN
F 3 "" H 12070 4595 50  0001 C CNN
	1    12070 4595
	1    0    0    -1  
$EndComp
$Comp
L custom:Micro_SD_Card_TF-01A J8
U 1 1 6071C640
P 11550 8210
F 0 "J8" H 12380 8206 50  0000 L CNN
F 1 "Micro_SD_Card_TF-01A" H 12380 8115 50  0000 L CNN
F 2 "custom:HK-TF01A" H 12700 8510 50  0001 C CNN
F 3 "http://katalog.we-online.de/em/datasheet/693072010801.pdf" H 11550 8210 50  0001 C CNN
F 4 "C91145 " H 11550 8210 50  0001 C CNN "LCSC"
	1    11550 8210
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 60748F7B
P 12000 9010
F 0 "#PWR0101" H 12000 8760 50  0001 C CNN
F 1 "GND" H 12005 8837 50  0000 C CNN
F 2 "" H 12000 9010 50  0001 C CNN
F 3 "" H 12000 9010 50  0001 C CNN
	1    12000 9010
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0102
U 1 1 6074955A
P 11150 9010
F 0 "#PWR0102" H 11150 8760 50  0001 C CNN
F 1 "GND" H 11155 8837 50  0000 C CNN
F 2 "" H 11150 9010 50  0001 C CNN
F 3 "" H 11150 9010 50  0001 C CNN
	1    11150 9010
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 6074A18C
P 11150 7510
F 0 "#PWR0103" H 11150 7260 50  0001 C CNN
F 1 "GND" H 11155 7337 50  0000 C CNN
F 2 "" H 11150 7510 50  0001 C CNN
F 3 "" H 11150 7510 50  0001 C CNN
	1    11150 7510
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 6074AC3D
P 12000 7510
F 0 "#PWR0104" H 12000 7260 50  0001 C CNN
F 1 "GND" H 12005 7337 50  0000 C CNN
F 2 "" H 12000 7510 50  0001 C CNN
F 3 "" H 12000 7510 50  0001 C CNN
	1    12000 7510
	-1   0    0    1   
$EndComp
$Comp
L custom:ESP32-WROOM-32D U1
U 1 1 614C08EB
P 3875 1975
F 0 "U1" H 4650 2125 60  0000 C CNN
F 1 "ESP32-WROOM-32D" H 4625 1275 60  0000 C CNN
F 2 "RF_Module:ESP32-WROOM-32" H 3725 2075 60  0001 C CNN
F 3 "" H 3725 2075 60  0001 C CNN
	1    3875 1975
	1    0    0    -1  
$EndComp
Text Label 6325 2075 2    50   ~ 0
MOSI
Text Label 6325 2175 2    50   ~ 0
SCL
Text Label 6325 2475 2    50   ~ 0
SDA
Text Label 6325 2775 2    50   ~ 0
SCK
Text Label 6325 2675 2    50   ~ 0
MISO
Text Label 6325 2875 2    50   ~ 0
CS_SD
Text Label 6325 2975 2    50   ~ 0
CS_X
Text Label 6325 3075 2    50   ~ 0
CS_Y
Text Label 6325 3175 2    50   ~ 0
CS_AUX
Text Label 5075 4550 1    50   ~ 0
StepEn
Text Label 4975 4550 1    50   ~ 0
PEN_DIR_JTAG_TDO
Text Label 4275 4550 1    50   ~ 0
NEO_PIXELS_JTAG_TCK
Text Label 2775 3275 0    50   ~ 0
JTAG_TDI
Text Label 2775 3175 0    50   ~ 0
JTAG_TMS
Text Label 2775 3075 0    50   ~ 0
PEN_LIFT
Text Label 2775 2975 0    50   ~ 0
X_Dir
Text Label 2775 2875 0    50   ~ 0
X_Step
Text Label 2775 2775 0    50   ~ 0
Y_Dir
Text Label 2775 2675 0    50   ~ 0
Y_Step
Text Label 2775 2575 0    50   ~ 0
Y_Limit
Text Label 2775 2475 0    50   ~ 0
X_Limit
$Comp
L power:+3.3V #PWR02
U 1 1 6168FE53
P 3400 1535
F 0 "#PWR02" H 3400 1385 50  0001 C CNN
F 1 "+3.3V" H 3415 1708 50  0000 C CNN
F 2 "" H 3400 1535 50  0001 C CNN
F 3 "" H 3400 1535 50  0001 C CNN
	1    3400 1535
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort09
U 1 1 616A1A29
P 3525 4025
F 0 "#NetPort09" H 3525 4025 50  0001 C CNN
F 1 "GND" H 3525 4025 50  0001 C CNN
F 2 "" H 3525 4025 50  0001 C CNN
F 3 "" H 3525 4025 50  0001 C CNN
	1    3525 4025
	1    0    0    -1  
$EndComp
Wire Wire Line
	3525 1975 3525 3800
Wire Wire Line
	4175 3800 3525 3800
Connection ~ 3525 3800
Wire Wire Line
	3525 3800 3525 4025
$Comp
L power:GND #NetPort011
U 1 1 616D701E
P 5725 4025
F 0 "#NetPort011" H 5725 4025 50  0001 C CNN
F 1 "GND" H 5725 4025 50  0001 C CNN
F 2 "" H 5725 4025 50  0001 C CNN
F 3 "" H 5725 4025 50  0001 C CNN
	1    5725 4025
	1    0    0    -1  
$EndComp
Wire Wire Line
	5725 1975 5725 4025
Wire Wire Line
	6055 1855 6055 2175
Wire Wire Line
	5905 1855 5905 2475
Wire Wire Line
	5905 1465 5905 1555
Connection ~ 5905 1465
Wire Wire Line
	6055 1465 5905 1465
Wire Wire Line
	6055 1555 6055 1465
Wire Wire Line
	5905 1355 5905 1465
$Comp
L Device:R R4
U 1 1 6038325F
P 6055 1705
F 0 "R4" H 6125 1751 50  0000 L CNN
F 1 "10K" H 6125 1660 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5985 1705 50  0001 C CNN
F 3 "~" H 6055 1705 50  0001 C CNN
	1    6055 1705
	1    0    0    -1  
$EndComp
$Comp
L Device:R R3
U 1 1 60383ECF
P 5905 1705
F 0 "R3" H 5755 1755 50  0000 L CNN
F 1 "10K" H 5705 1655 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5835 1705 50  0001 C CNN
F 3 "~" H 5905 1705 50  0001 C CNN
	1    5905 1705
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR015
U 1 1 603A7AF4
P 5905 1355
F 0 "#PWR015" H 5905 1205 50  0001 C CNN
F 1 "+3.3V" H 5920 1528 50  0000 C CNN
F 2 "" H 5905 1355 50  0001 C CNN
F 3 "" H 5905 1355 50  0001 C CNN
	1    5905 1355
	1    0    0    -1  
$EndComp
Connection ~ 5905 2475
Wire Wire Line
	5905 2475 6325 2475
Connection ~ 6055 2175
Wire Wire Line
	6055 2175 6325 2175
Wire Wire Line
	3525 1975 3775 1975
Wire Wire Line
	3400 2075 3775 2075
Wire Wire Line
	2775 2475 3775 2475
Wire Wire Line
	2775 2575 3775 2575
Wire Wire Line
	2775 2675 3775 2675
Wire Wire Line
	2775 2775 3775 2775
Wire Wire Line
	2775 2875 3775 2875
Wire Wire Line
	2775 2975 3775 2975
Wire Wire Line
	2775 3075 3775 3075
Wire Wire Line
	2775 3175 3775 3175
Wire Wire Line
	2775 3275 3775 3275
Wire Wire Line
	4175 3575 4175 3800
Wire Wire Line
	4275 3575 4275 4550
Wire Wire Line
	4975 3575 4975 4550
Wire Wire Line
	5075 3575 5075 4550
Wire Wire Line
	5475 3175 6325 3175
Wire Wire Line
	5475 3075 6325 3075
Wire Wire Line
	5475 2975 6325 2975
Wire Wire Line
	5475 2875 6325 2875
Wire Wire Line
	5475 2775 6325 2775
Wire Wire Line
	5475 2675 6325 2675
Wire Wire Line
	5475 2475 5905 2475
Wire Wire Line
	5475 2175 6055 2175
Wire Wire Line
	5475 2075 6325 2075
Wire Wire Line
	5475 1975 5725 1975
$Comp
L Regulator_Linear:AMS1117-3.3 U6
U 1 1 617119AD
P 6300 8450
F 0 "U6" H 6300 8692 50  0000 C CNN
F 1 "AMS1117-3.3" H 6300 8601 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 6300 8650 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 6400 8200 50  0001 C CNN
	1    6300 8450
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR016
U 1 1 61713D66
P 5625 8275
F 0 "#PWR016" H 5625 8125 50  0001 C CNN
F 1 "+5V" H 5640 8448 50  0000 C CNN
F 2 "" H 5625 8275 50  0001 C CNN
F 3 "" H 5625 8275 50  0001 C CNN
	1    5625 8275
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR017
U 1 1 617145F3
P 7025 8250
F 0 "#PWR017" H 7025 8100 50  0001 C CNN
F 1 "+3.3V" H 7040 8423 50  0000 C CNN
F 2 "" H 7025 8250 50  0001 C CNN
F 3 "" H 7025 8250 50  0001 C CNN
	1    7025 8250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort012
U 1 1 61714CA6
P 6300 9050
F 0 "#NetPort012" H 6300 9050 50  0001 C CNN
F 1 "GND" H 6300 9050 50  0001 C CNN
F 2 "" H 6300 9050 50  0001 C CNN
F 3 "" H 6300 9050 50  0001 C CNN
	1    6300 9050
	1    0    0    -1  
$EndComp
Wire Wire Line
	5625 8275 5625 8450
Wire Wire Line
	5625 8450 6000 8450
Wire Wire Line
	6600 8450 7025 8450
Wire Wire Line
	7025 8450 7025 8250
Wire Wire Line
	6300 8750 6300 8925
$Comp
L Device:CP C9
U 1 1 6174CD19
P 5625 8700
F 0 "C9" H 5743 8746 50  0000 L CNN
F 1 "22uF 10v" H 5743 8655 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-3216-18_Kemet-A" H 5663 8550 50  0001 C CNN
F 3 "~" H 5625 8700 50  0001 C CNN
F 4 "C118989" H 5625 8700 50  0001 C CNN "LCSC"
	1    5625 8700
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C10
U 1 1 6174D5D4
P 7025 8700
F 0 "C10" H 7143 8746 50  0000 L CNN
F 1 "22uF 10v" H 7143 8655 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-3216-18_Kemet-A" H 7063 8550 50  0001 C CNN
F 3 "~" H 7025 8700 50  0001 C CNN
F 4 "C118989" H 7025 8700 50  0001 C CNN "LCSC"
	1    7025 8700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7025 8550 7025 8450
Connection ~ 7025 8450
Wire Wire Line
	5625 8450 5625 8550
Connection ~ 5625 8450
Wire Wire Line
	5625 8850 5625 8925
Wire Wire Line
	5625 8925 6300 8925
Connection ~ 6300 8925
Wire Wire Line
	6300 8925 6300 9050
Wire Wire Line
	6300 8925 7025 8925
Wire Wire Line
	7025 8925 7025 8850
Text Notes 1050 10135 0    118  ~ 0
Comms
Wire Notes Line
	750  13175 8450 13175
Wire Notes Line
	750  13175 750  9675
Wire Notes Line
	8450 9675 8450 13175
Wire Notes Line
	750  9675 8450 9675
$Comp
L Interface_USB:CH340C U5
U 1 1 618C1A96
P 4325 11650
F 0 "U5" H 4075 10925 50  0000 C CNN
F 1 "CH340C" H 4600 10975 50  0000 C CNN
F 2 "Package_SO:SOIC-16_3.9x9.9mm_P1.27mm" H 4375 11100 50  0001 L CNN
F 3 "https://datasheet.lcsc.com/szlcsc/Jiangsu-Qin-Heng-CH340C_C84681.pdf" H 3975 12450 50  0001 C CNN
	1    4325 11650
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR03
U 1 1 618C2728
P 4325 10825
F 0 "#PWR03" H 4325 10675 50  0001 C CNN
F 1 "+3.3V" H 4340 10998 50  0000 C CNN
F 2 "" H 4325 10825 50  0001 C CNN
F 3 "" H 4325 10825 50  0001 C CNN
	1    4325 10825
	1    0    0    -1  
$EndComp
Wire Wire Line
	4325 11050 4325 10950
Wire Wire Line
	4225 11050 4225 10950
Wire Wire Line
	4225 10950 4325 10950
Connection ~ 4325 10950
Wire Wire Line
	4325 10950 4325 10825
$Comp
L power:GND #NetPort010
U 1 1 618EA7BB
P 4325 12475
F 0 "#NetPort010" H 4325 12475 50  0001 C CNN
F 1 "GND" H 4325 12475 50  0001 C CNN
F 2 "" H 4325 12475 50  0001 C CNN
F 3 "" H 4325 12475 50  0001 C CNN
	1    4325 12475
	1    0    0    -1  
$EndComp
Wire Wire Line
	4325 12250 4325 12475
$Comp
L power:GND #NetPort07
U 1 1 61900AC5
P 1800 12850
F 0 "#NetPort07" H 1800 12850 50  0001 C CNN
F 1 "GND" H 1800 12850 50  0001 C CNN
F 2 "" H 1800 12850 50  0001 C CNN
F 3 "" H 1800 12850 50  0001 C CNN
	1    1800 12850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 11550 3925 11550
Wire Wire Line
	5475 2275 6325 2275
Wire Wire Line
	5475 2375 6325 2375
Text Label 6325 2275 2    50   ~ 0
ESP32_TX
Text Label 6325 2375 2    50   ~ 0
ESP32_RX
Text Label 5675 11250 2    50   ~ 0
ESP32_RX
Text Label 5675 11350 2    50   ~ 0
ESP32_TX
Wire Wire Line
	4725 11250 5675 11250
Wire Wire Line
	4725 11350 5675 11350
$Comp
L Switch:SW_Push SW1
U 1 1 61993EB7
P 2000 4250
F 0 "SW1" H 2000 4535 50  0000 C CNN
F 1 "RESET" H 2000 4444 50  0000 C CNN
F 2 "custom:K2-1107ST" H 2000 4450 50  0001 C CNN
F 3 "https://datasheet.lcsc.com/lcsc/1811082113_Korean-Hroparts-Elec-K2-1102SP-C4SC-04_C127509.pdf" H 2000 4450 50  0001 C CNN
F 4 "C127509 C118141 (smaller SMT)" H 2000 4250 50  0001 C CNN "LCSC"
	1    2000 4250
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_Push SW2
U 1 1 6199581C
P 7325 4250
F 0 "SW2" H 7325 4535 50  0000 C CNN
F 1 "BOOT" H 7325 4444 50  0000 C CNN
F 2 "custom:K2-1107ST" H 7325 4450 50  0001 C CNN
F 3 "~" H 7325 4450 50  0001 C CNN
F 4 "C127509 C118141 (smaller SMT)" H 7325 4250 50  0001 C CNN "LCSC"
	1    7325 4250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort06
U 1 1 619964CA
P 1500 4650
F 0 "#NetPort06" H 1500 4650 50  0001 C CNN
F 1 "GND" H 1500 4650 50  0001 C CNN
F 2 "" H 1500 4650 50  0001 C CNN
F 3 "" H 1500 4650 50  0001 C CNN
	1    1500 4650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort013
U 1 1 61996B67
P 6825 4650
F 0 "#NetPort013" H 6825 4650 50  0001 C CNN
F 1 "GND" H 6825 4650 50  0001 C CNN
F 2 "" H 6825 4650 50  0001 C CNN
F 3 "" H 6825 4650 50  0001 C CNN
	1    6825 4650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C11
U 1 1 6199731B
P 7300 4500
F 0 "C11" V 7450 4500 50  0000 C CNN
F 1 "0.1uF" V 7150 4500 50  0000 C CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 7338 4350 50  0001 C CNN
F 3 "~" H 7300 4500 50  0001 C CNN
	1    7300 4500
	0    1    1    0   
$EndComp
$Comp
L Device:C C8
U 1 1 61998759
P 1975 4500
F 0 "C8" V 1800 4500 50  0000 C CNN
F 1 "0.1uF" V 2125 4500 50  0000 C CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2013 4350 50  0001 C CNN
F 3 "~" H 1975 4500 50  0001 C CNN
	1    1975 4500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1500 4650 1500 4500
Wire Wire Line
	1500 4250 1800 4250
Wire Wire Line
	1825 4500 1500 4500
Connection ~ 1500 4500
Wire Wire Line
	1500 4500 1500 4250
Wire Wire Line
	2200 4250 2375 4250
Wire Wire Line
	2125 4500 2375 4500
Wire Wire Line
	2375 4500 2375 4250
Connection ~ 2375 4250
Wire Wire Line
	2375 4250 2625 4250
Wire Wire Line
	7125 4250 6825 4250
Wire Wire Line
	6825 4250 6825 4500
Wire Wire Line
	7150 4500 6825 4500
Connection ~ 6825 4500
Wire Wire Line
	6825 4500 6825 4650
Wire Wire Line
	7525 4250 7600 4250
Wire Wire Line
	7450 4500 7600 4500
Wire Wire Line
	7600 4500 7600 4250
Connection ~ 7600 4250
Wire Wire Line
	7600 4250 8125 4250
Wire Wire Line
	3775 2175 3090 2175
Wire Wire Line
	5475 3275 5585 3275
Text Label 6325 3275 2    50   ~ 0
IO0
Text Label 8125 4250 2    50   ~ 0
IO0
Text Label 2775 2175 0    50   ~ 0
EN
Text Label 2625 4250 2    50   ~ 0
EN
$Comp
L Connector:Conn_01x02_Male J18
U 1 1 61ACBD71
P 6920 2835
F 0 "J18" H 7028 3016 50  0000 C CNN
F 1 "E-Stop" H 7028 2925 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S2B-PH-K_1x02_P2.00mm_Horizontal" H 6920 2835 50  0001 C CNN
F 3 "~" H 6920 2835 50  0001 C CNN
F 4 "C16965 (JST PH TH RA), C47647 (JST PH SMT RA)" H 6920 2835 50  0001 C CNN "LCSC"
	1    6920 2835
	1    0    0    -1  
$EndComp
Wire Wire Line
	7120 2935 7420 2935
Wire Wire Line
	7120 2835 8170 2835
Wire Wire Line
	7420 3070 7420 2935
Text Label 8170 2835 2    50   ~ 0
IO0
$Comp
L power:GND #NetPort014
U 1 1 61ACC537
P 7420 3070
F 0 "#NetPort014" H 7420 3070 50  0001 C CNN
F 1 "GND" H 7420 3070 50  0001 C CNN
F 2 "" H 7420 3070 50  0001 C CNN
F 3 "" H 7420 3070 50  0001 C CNN
	1    7420 3070
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x03_Male J5
U 1 1 6159A72B
P 9650 1600
F 0 "J5" H 9758 1881 50  0000 C CNN
F 1 "X Limit Switch" H 9758 1790 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S3B-PH-K_1x03_P2.00mm_Horizontal" H 9650 1600 50  0001 C CNN
F 3 "~" H 9650 1600 50  0001 C CNN
F 4 "C10400 (JST PH TH RA) C395359 (JST PH SMT RA)" H 9650 1600 50  0001 C CNN "LCSC"
	1    9650 1600
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x03_Male J19
U 1 1 6159BC1E
P 9650 2200
F 0 "J19" H 9758 2481 50  0000 C CNN
F 1 "Y Limit Switch" H 9758 2390 50  0000 C CNN
F 2 "Connector_JST:JST_PH_S3B-PH-K_1x03_P2.00mm_Horizontal" H 9650 2200 50  0001 C CNN
F 3 "~" H 9650 2200 50  0001 C CNN
F 4 "C10400 (JST PH TH RA) C395359 (JST PH SMT RA)" H 9650 2200 50  0001 C CNN "LCSC"
	1    9650 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	10625 1285 10625 1500
Wire Wire Line
	9850 1500 10625 1500
Connection ~ 10625 1500
Wire Wire Line
	9850 2100 10625 2100
Wire Wire Line
	10625 1500 10625 2100
Wire Wire Line
	9850 2300 10775 2300
Connection ~ 10775 2300
Wire Wire Line
	10775 2300 10775 2485
Wire Wire Line
	9850 1700 10775 1700
Wire Wire Line
	10775 1700 10775 2300
Wire Wire Line
	9850 1600 10950 1600
Wire Wire Line
	9850 2200 10950 2200
Wire Wire Line
	11250 1600 11950 1600
Text Label 12300 1600 2    50   ~ 0
X_Limit
Wire Wire Line
	11950 1885 11950 1600
Connection ~ 11950 1600
Wire Wire Line
	11950 1600 12300 1600
Wire Wire Line
	11475 1735 11475 2200
Wire Wire Line
	11475 2200 11250 2200
Wire Wire Line
	11475 1735 11700 1735
$Comp
L Device:D_Schottky D1
U 1 1 61647E81
P 2700 10750
F 0 "D1" V 2654 10830 50  0000 L CNN
F 1 "B5819W" V 2745 10830 50  0000 L CNN
F 2 "Diode_SMD:D_SOD-123" H 2700 10750 50  0001 C CNN
F 3 "https://datasheet.lcsc.com/szlcsc/Changjiang-Electronics-Tech-CJ-B5819W_C8598.pdf" H 2700 10750 50  0001 C CNN
	1    2700 10750
	0    1    1    0   
$EndComp
$Comp
L power:+5V #PWR0105
U 1 1 61649438
P 2700 10375
F 0 "#PWR0105" H 2700 10225 50  0001 C CNN
F 1 "+5V" H 2715 10548 50  0000 C CNN
F 2 "" H 2700 10375 50  0001 C CNN
F 3 "" H 2700 10375 50  0001 C CNN
	1    2700 10375
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_C_Receptacle_USB2.0 J17
U 1 1 617C3A54
P 1800 11650
F 0 "J17" H 1907 12517 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 1907 12426 50  0000 C CNN
F 2 "Connector_USB:USB_C_Receptacle_HRO_TYPE-C-31-M-12" H 1950 11650 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1950 11650 50  0001 C CNN
F 4 "C165948 (TYPE-C-31-M-12)" H 1800 11650 50  0001 C CNN "LCSC"
	1    1800 11650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 11650 2700 11650
Wire Wire Line
	2400 11550 2700 11550
Wire Wire Line
	2700 11550 2700 11650
Connection ~ 2700 11650
Wire Wire Line
	2700 11650 3925 11650
Wire Wire Line
	2400 11750 3150 11750
Wire Wire Line
	3150 11750 3150 11550
Wire Wire Line
	2400 11850 3150 11850
Wire Wire Line
	3150 11850 3150 11750
Connection ~ 3150 11750
Wire Wire Line
	2400 11050 2700 11050
Wire Wire Line
	2700 11050 2700 10900
Wire Wire Line
	2700 10600 2700 10375
Wire Wire Line
	1800 12850 1800 12550
$Comp
L Device:R R5
U 1 1 6185A8A4
P 2825 12350
F 0 "R5" H 2650 12400 50  0000 L CNN
F 1 "5.1k" H 2600 12275 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2755 12350 50  0001 C CNN
F 3 "~" H 2825 12350 50  0001 C CNN
	1    2825 12350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R6
U 1 1 6185BBB3
P 3050 12350
F 0 "R6" H 3120 12396 50  0000 L CNN
F 1 "5.1k" H 3120 12305 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2980 12350 50  0001 C CNN
F 3 "~" H 3050 12350 50  0001 C CNN
	1    3050 12350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 11250 3050 11250
Wire Wire Line
	3050 11250 3050 12200
Wire Wire Line
	2400 11350 2825 11350
Wire Wire Line
	2825 11350 2825 12200
$Comp
L power:GND #NetPort015
U 1 1 61888507
P 2825 12850
F 0 "#NetPort015" H 2825 12850 50  0001 C CNN
F 1 "GND" H 2825 12850 50  0001 C CNN
F 2 "" H 2825 12850 50  0001 C CNN
F 3 "" H 2825 12850 50  0001 C CNN
	1    2825 12850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #NetPort016
U 1 1 618889F6
P 3050 12850
F 0 "#NetPort016" H 3050 12850 50  0001 C CNN
F 1 "GND" H 3050 12850 50  0001 C CNN
F 2 "" H 3050 12850 50  0001 C CNN
F 3 "" H 3050 12850 50  0001 C CNN
	1    3050 12850
	1    0    0    -1  
$EndComp
Wire Wire Line
	2825 12850 2825 12500
Wire Wire Line
	3050 12850 3050 12500
Wire Wire Line
	4925 1775 4925 1750
Wire Wire Line
	4925 1750 3525 1750
Wire Wire Line
	3525 1750 3525 1975
Connection ~ 3525 1975
$Comp
L Device:R R7
U 1 1 61DBB1E2
P 3090 1940
F 0 "R7" H 3160 1986 50  0000 L CNN
F 1 "10k" H 3160 1895 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3020 1940 50  0001 C CNN
F 3 "~" H 3090 1940 50  0001 C CNN
	1    3090 1940
	1    0    0    -1  
$EndComp
$Comp
L Device:R R8
U 1 1 61E11249
P 5585 1705
F 0 "R8" H 5425 1765 50  0000 L CNN
F 1 "10k" H 5390 1665 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5515 1705 50  0001 C CNN
F 3 "~" H 5585 1705 50  0001 C CNN
	1    5585 1705
	1    0    0    -1  
$EndComp
Wire Wire Line
	5585 1465 5905 1465
Wire Wire Line
	5585 1555 5585 1465
Wire Wire Line
	5585 1855 5585 3275
Connection ~ 5585 3275
Wire Wire Line
	5585 3275 6325 3275
Wire Wire Line
	3090 2090 3090 2175
Connection ~ 3090 2175
Wire Wire Line
	3090 2175 2775 2175
Wire Wire Line
	3090 1740 3090 1790
Wire Wire Line
	3400 1535 3400 1740
Wire Wire Line
	3090 1740 3400 1740
Connection ~ 3400 1740
Wire Wire Line
	3400 1740 3400 2075
$EndSCHEMATC
